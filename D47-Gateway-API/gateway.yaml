# Gateway (Define Entry Point)
apiVersion: gateway.networking.k8s.io/v1
kind: Gateway
metadata:
  name: core-ui-nginx-gateway
  namespace: nginx-gateway
spec:
  gatewayClassName: nginx
  listeners:
  - name: http
    protocol: HTTP
    port: 80
    # Indent this block to be under the list item above
    allowedRoutes:
      namespaces:
        from: All


#  The gateway class nsme is "nginx", we're using existing default class.
#   > kubectl get gc


# allowedRoutes block explanation:
  # This block controls:
  # ğŸš¦ Who is allowed to attach routes (HTTPRoute) to this Gateway
  # Think:
    # ğŸ‘‰ Gateway = Entry Door ğŸšª
    # ğŸ‘‰ HTTPRoute = Traffic Rules ğŸ“œ

    # Now question:
      # â“ Which namespaces are allowed to use this door?
      # Thatâ€™s exactly what allowedRoutes decides.